<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>4. Going further • HighFrequencyChecks</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="4. Going further">
<meta property="og:description" content="HighFrequencyChecks">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">HighFrequencyChecks</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/HFC1.html">Purpose of the High Frequency Checks</a>
    </li>
    <li>
      <a href="../articles/HFC2.html">Example of a High Frequecy Check document generated form the Shiny interface</a>
    </li>
    <li>
      <a href="../articles/HFC3.html">Example of a more tabular High Frequecy Check document</a>
    </li>
    <li>
      <a href="../articles/HFC4.html">Going further</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/unhcr/HighFrequencyChecks/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="HFC4_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="HFC4_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="HFC4_files/anchor-sections-1.0/anchor-sections.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>4. Going further</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/unhcr/HighFrequencyChecks/blob/master/vignettes/HFC4.Rmd"><code>vignettes/HFC4.Rmd</code></a></small>
      <div class="hidden name"><code>HFC4.Rmd</code></div>

    </div>

    
    
<div id="going-further-with-the-high-frequency-checks-package" class="section level2">
<h2 class="hasAnchor">
<a href="#going-further-with-the-high-frequency-checks-package" class="anchor"></a>Going further with the High Frequency Checks Package</h2>
<p>The Shiny interface included in the High Frequency Checks package is a usefull tool to beggin to familiaralised with the functions included in the package. But, as with the examples included in the vignettes so far, it shows the functions used with predifined parameters and on the main part of a survey (not including the potential loops).</p>
<p>lets see how we could do more with the same functions.</p>
<div id="doing-some-of-the-available-checks-on-the-individual-loops" class="section level3">
<h3 class="hasAnchor">
<a href="#doing-some-of-the-available-checks-on-the-individual-loops" class="anchor"></a>Doing some of the available checks on the individual loops</h3>
<p>It could be useful to run some of the functions available on the individual loops to ensure the data collected there is also valid. The main interesting functions to run there would be:</p>
<ul>
<li>enumeratorIsLazy</li>
<li>surveyOtherValues</li>
<li>surveyOutliers</li>
<li>surveyMissingValues</li>
<li>surveyDistinctValues</li>
<li>surveySmallValues</li>
<li>surveyBigValues</li>
</ul>
<p>To be able to run the functions on the loops and generating useful reports, we should first having the enumerator ID information included in the dataset generated by the loop. let assume the main part of the survey is a file named ‘main.csv’ and the loop a file named ‘loop.csv’</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## First import the datasets</span>
<span class="va">main</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"main.csv"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>
<span class="va">loop</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"loop.csv"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>

<span class="co">## then bring the enumerator ID information into the loop dataset</span>
<span class="va">loop</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">inner_join</a></span><span class="op">(</span><span class="va">main</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"enumerator_id"</span>,<span class="st">"X_uuid"</span>,<span class="st">"X_index"</span><span class="op">)</span><span class="op">]</span>,
                          <span class="va">loop</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"X_index"</span><span class="op">=</span><span class="st">"X_parent_index"</span><span class="op">)</span><span class="op">)</span>

<span class="co">## Now it is possible to run the HFC functions and still having the enumerator ID information for the </span>
<span class="co">## potential mistakes</span>
<span class="co">## Example with the surveyOtherValues function</span>
<span class="va">list</span><span class="op">[</span><span class="va">var1</span>,<span class="va">reportsurveyOtherValues</span>,<span class="va">textsurveyOtherValues</span>,<span class="va">graphsurveyOtherValues</span><span class="op">]</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/surveyOtherValues.html">surveyOtherValues</a></span><span class="op">(</span>ds<span class="op">=</span><span class="va">loop</span>, 
                    enumeratorID<span class="op">=</span><span class="st">"enumerator_id"</span>, 
                    otherPattern<span class="op">=</span><span class="st">"_other$"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">reportsurveyOtherValues</span><span class="op">)</span></code></pre></div>
</div>
<div id="doing-a-check-by-enumerator-or-not" class="section level3">
<h3 class="hasAnchor">
<a href="#doing-a-check-by-enumerator-or-not" class="anchor"></a>Doing a check by enumerator or not</h3>
<p>Some of the functions include an option to determine if we want to have the check reported by enumertor (useful to be able to ask them some follow-up questions to clarify the validity of the data), or not, which will give the results aggregated for the whole dataset (useful to be able to prepare the cleaning log for example).</p>
<p>This opportunity is given with the following functions:</p>
<ul>
<li>surveyMissingValues</li>
<li>surveyDistinctValues</li>
<li>surveyOtherValues</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/unhcr/HighFrequencyChecks">HighFrequencyChecks</a></span><span class="op">)</span></code></pre></div>
<pre><code>## Loading required package: gsubfn</code></pre>
<pre><code>## Loading required package: proto</code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span>
<span class="co">## Example on the dataset included in the package</span>
<span class="va">main</span> <span class="op">&lt;-</span> <span class="va">sample_dataset</span>

<span class="co">## Example with the surveyOtherValues function</span>
<span class="co">## First without the enumerator ID information</span>
<span class="va">list</span><span class="op">[</span><span class="va">var1</span>,<span class="va">reportsurveyOtherValues</span>,<span class="va">textsurveyOtherValues</span>,<span class="va">graphsurveyOtherValues</span><span class="op">]</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/surveyOtherValues.html">surveyOtherValues</a></span><span class="op">(</span>ds<span class="op">=</span><span class="va">main</span>, 
                    enumeratorID<span class="op">=</span><span class="st">"enumerator_id"</span>, 
                    otherPattern<span class="op">=</span><span class="st">"_other$"</span>, 
                    enumeratorCheck <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">reportsurveyOtherValues</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="49%">
<col width="48%">
<col width="2%">
</colgroup>
<thead><tr class="header">
<th align="left">field</th>
<th align="left">values</th>
<th align="right">nb</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">consent_received.wash.water_collection_problem_other</td>
<td align="left">The source is only available some month of the year</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">consent_received.wash.water_collection_problem_other</td>
<td align="left">They have to collect water from neighbors.</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">consent_received.shelter_nfi.non_food_items_other</td>
<td align="left">chair-table</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">consent_received.shelter_nfi.non_food_items_other</td>
<td align="left">Cow, goat</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">consent_received.shelter_nfi.non_food_items_other</td>
<td align="left">Dressmaking machine</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">consent_received.shelter_nfi.non_food_items_other</td>
<td align="left">Electric fan</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Then with the enumerator ID information</span>
<span class="va">list</span><span class="op">[</span><span class="va">var1</span>,<span class="va">reportsurveyOtherValues</span>,<span class="va">textsurveyOtherValues</span>,<span class="va">graphsurveyOtherValues</span><span class="op">]</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/surveyOtherValues.html">surveyOtherValues</a></span><span class="op">(</span>ds<span class="op">=</span><span class="va">main</span>, 
                    enumeratorID<span class="op">=</span><span class="st">"enumerator_id"</span>, 
                    otherPattern<span class="op">=</span><span class="st">"_other$"</span>, 
                    enumeratorCheck <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">reportsurveyOtherValues</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="43%">
<col width="11%">
<col width="42%">
<col width="2%">
</colgroup>
<thead><tr class="header">
<th align="left">field</th>
<th align="right">enumerator_id</th>
<th align="left">values</th>
<th align="right">nb</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">consent_received.wash.water_collection_problem_other</td>
<td align="right">18</td>
<td align="left">The source is only available some month of the year</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">consent_received.wash.water_collection_problem_other</td>
<td align="right">4001</td>
<td align="left">They have to collect water from neighbors.</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">consent_received.shelter_nfi.non_food_items_other</td>
<td align="right">3</td>
<td align="left">Ten</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">consent_received.shelter_nfi.non_food_items_other</td>
<td align="right">12</td>
<td align="left">Home repair materials</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">consent_received.shelter_nfi.non_food_items_other</td>
<td align="right">12</td>
<td align="left">need electricity</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">consent_received.shelter_nfi.non_food_items_other</td>
<td align="right">12</td>
<td align="left">Water pamp,laptop</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
</div>
<div id="periodic-checks-daily-for-example-on-the-data-collected" class="section level3">
<h3 class="hasAnchor">
<a href="#periodic-checks-daily-for-example-on-the-data-collected" class="anchor"></a>Periodic checks (daily for example) on the data collected</h3>
<p>The purpose of the High Frequency Checks is to assess the quality of the data collected on a periodic basis. But you may not want to re-run all the checks on the full dataset as it may be difficult to identify the new mistakes or questions to be raised.</p>
<p>A good way to avoid this is to subset the dataset according of the data collection day.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/unhcr/HighFrequencyChecks">HighFrequencyChecks</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span>
<span class="va">main</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"main.csv"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>
<span class="va">previousMain</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.csv</a></span><span class="op">(</span><span class="st">"previousMain.csv"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>

<span class="co">## Subset the dataset according of the date of submission to the kobo server</span>
<span class="va">mainOfTheDay</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">main</span>, 
                       <span class="fu">stringi</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/stringi/man/stri_datetime_format.html">stri_datetime_format</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strptime.html">strptime</a></span><span class="op">(</span><span class="va">Header</span><span class="op">$</span><span class="va">X_submission_time</span>, 
                                                              <span class="st">"%Y-%m-%dT%H:%M:%OS"</span><span class="op">)</span>,
                                                     <span class="st">"uuuu-MM-dd"</span><span class="op">)</span><span class="op">==</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">## Run the HFC functions on the subsetted dataset</span>
<span class="va">list</span><span class="op">[</span><span class="va">var1</span>,<span class="va">reportisInterviewCompleted</span>,<span class="va">textisInterviewCompleted</span>,<span class="va">graphisInterviewCompleted</span><span class="op">]</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/isInterviewCompleted.html">isInterviewCompleted</a></span><span class="op">(</span>ds<span class="op">=</span><span class="va">mainOfTheDay</span>, 
                       dates<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"survey_start"</span>,<span class="st">"end_survey"</span><span class="op">)</span>, 
                       surveyConsent<span class="op">=</span><span class="st">"survey_consent"</span>, 
                       deleteIsInterviewCompleted<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
<span class="kw">if</span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">var1</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="va">mainOfTheDay</span><span class="op">&lt;-</span><span class="va">var1</span>
<span class="op">}</span>
<span class="co"># (more or less all the is..., survey... functions)</span>

<span class="co">## Run some other functions on the full dataset (composed by the surveys collected before today, and the </span>
<span class="co">## surveys collected today just processed by HFC)</span>
<span class="va">fullMain</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span><span class="op">(</span><span class="va">previousMain</span>, <span class="va">mainOfTheDay</span><span class="op">)</span>
<span class="va">list</span><span class="op">[</span><span class="va">var1</span>,<span class="va">reportassessmentDuration</span>,<span class="va">textassessmentDuration</span>,<span class="va">graphassessmentDuration</span><span class="op">]</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/assessmentDuration.html">assessmentDuration</a></span><span class="op">(</span>ds<span class="op">=</span><span class="va">main</span>,
                     dates<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"survey_start"</span>,<span class="st">"end_survey"</span><span class="op">)</span><span class="op">)</span>
<span class="co"># (more or less all the assessment..., enumerator... functions)</span>

<span class="co">## At the end and especially if you set-up the is... functions to have an action on the dataset, </span>
<span class="co">## you should save it in order to reuse it the next day and still have an accurate tracking sheet (for </span>
<span class="co">## example)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/write.table.html">write.csv</a></span><span class="op">(</span><span class="va">fullMain</span>, <span class="st">"previousMain.csv"</span><span class="op">)</span></code></pre></div>
</div>
<div id="changing-the-purpose-of-a-function" class="section level3">
<h3 class="hasAnchor">
<a href="#changing-the-purpose-of-a-function" class="anchor"></a>Changing the purpose of a function</h3>
<p>Even if functions have a pre-defined purpose, it is possible to imagine using them (or at least some of them) to generate a different report. For example we could be interested by knowing the percentage of consentment for the survey according to the different site where we are doing the data collection. It could be useful to highlight some difference and maybe some site where people are less enclined to answer the survey (and where we may plan for contingency, like having a lower CI or higher ME, or changing the way we will analysed the data…). To do so, we can use the enumeratorSurveysConsent function asking to give us the result not by enumerator, but by site</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/unhcr/HighFrequencyChecks">HighFrequencyChecks</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/">knitr</a></span><span class="op">)</span>
<span class="co">## Example on the dataset included in the package</span>
<span class="co">## First we remove all the status which are different from 'yes' or 'no' (not eligible for example is </span>
<span class="co">## not informing us on the people not willing ot answer the survey).</span>
<span class="va">specificMain</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span><span class="op">(</span><span class="va">sample_dataset</span>, 
                       <span class="va">survey_consent</span><span class="op">!=</span><span class="st">"not_eligible"</span><span class="op">)</span>
<span class="co">## Running the function</span>
<span class="va">list</span><span class="op">[</span><span class="va">var1</span>,<span class="va">reportsiteSurveysConsent</span>,<span class="va">textsiteSurveysConsent</span>,<span class="va">graphsiteSurveysConsent</span><span class="op">]</span> <span class="op">&lt;-</span> 
  <span class="fu"><a href="../reference/enumeratorSurveysConsent.html">enumeratorSurveysConsent</a></span><span class="op">(</span><span class="va">specificMain</span>, 
                           surveyConsent <span class="op">=</span> <span class="st">"survey_consent"</span>, 
                           enumeratorID <span class="op">=</span> <span class="st">"union_name"</span><span class="op">)</span>
<span class="co">## Changing the columns names to reflect we are not dealing with enumerator ID</span>
<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">reportsiteSurveysConsent</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Site"</span>, <span class="st">"no"</span>,   <span class="st">"yes"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">reportsiteSurveysConsent</span><span class="op">)</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Site</th>
<th align="right">no</th>
<th align="right">yes</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">baharchhara</td>
<td align="right">0.00</td>
<td align="right">100.00</td>
</tr>
<tr class="even">
<td align="left">haldia palong</td>
<td align="right">4.55</td>
<td align="right">95.45</td>
</tr>
<tr class="odd">
<td align="left">jalia palong</td>
<td align="right">7.14</td>
<td align="right">92.86</td>
</tr>
<tr class="even">
<td align="left">nhilla</td>
<td align="right">6.67</td>
<td align="right">93.33</td>
</tr>
<tr class="odd">
<td align="left">palong khali</td>
<td align="right">8.86</td>
<td align="right">91.14</td>
</tr>
<tr class="even">
<td align="left">raja palong</td>
<td align="right">0.00</td>
<td align="right">100.00</td>
</tr>
<tr class="odd">
<td align="left">ratna palong</td>
<td align="right">9.52</td>
<td align="right">90.48</td>
</tr>
<tr class="even">
<td align="left">sabrang</td>
<td align="right">8.33</td>
<td align="right">91.67</td>
</tr>
<tr class="odd">
<td align="left">teknaf</td>
<td align="right">10.87</td>
<td align="right">89.13</td>
</tr>
<tr class="even">
<td align="left">teknaf paurashava</td>
<td align="right">0.00</td>
<td align="right">100.00</td>
</tr>
<tr class="odd">
<td align="left">whykong</td>
<td align="right">5.06</td>
<td align="right">94.94</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">## Print the graphic and changing the axis names to reflect we are not dealing with enumerator ID</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">graphsiteSurveysConsent</span> <span class="op">+</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">"Site"</span><span class="op">)</span> <span class="op">+</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position<span class="op">=</span><span class="st">'bottom'</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="HFC4_files/figure-html/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Yannick Pascaud.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
